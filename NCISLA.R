library(readr)
NCISLA <- read_csv("NCISLA.csv")

NCISLA$production_code <- NULL

#install.packages("rvest")
#install.packages("tidyverse")
#install.packages("tidyr")
library(rvest)
library(stringr)
library(tidyverse)
library(tidyr)

############################ NCIS ##################################

NCISLAS1Rating <- read_html("https://www.imdb.com/title/tt1378167/episodes?season=1")

### S1 ###
S1EP1 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[1]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP2 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[2]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP3 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[3]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP4 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[4]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP5 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[5]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP6 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[6]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP7 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[7]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP8 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[8]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP9 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[9]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP10 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[10]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP11 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[11]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP12 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[12]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP13 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[13]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP14 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[14]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP15 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[15]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP16 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[16]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP17 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[17]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP18 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[18]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP19 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[19]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP20 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[20]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP21 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[21]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP22 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[22]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP23 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[23]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S1EP24 <- NCISLAS1Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[24]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()


NCISLAS2Rating <- read_html("https://www.imdb.com/title/tt1378167/episodes?season=2")

### S2 ###
S2EP1 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[1]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP2 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[2]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP3 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[3]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP4 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[4]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP5 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[5]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP6 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[6]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP7 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[7]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP8 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[8]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP9 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[9]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP10 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[10]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP11 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[11]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP12 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[12]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP13 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[13]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP14 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[14]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP15 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[15]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP16 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[16]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP17 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[17]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP18 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[18]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP19 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[19]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP20 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[20]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP21 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[21]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP22 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[22]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP23 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[23]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S2EP24 <- NCISLAS2Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[24]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()


NCISLAS3Rating <- read_html("https://www.imdb.com/title/tt1378167/episodes?season=3")

### S3 ###
S3EP1 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[1]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP2 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[2]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP3 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[3]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP4 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[4]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP5 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[5]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP6 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[6]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP7 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[7]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP8 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[8]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP9 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[9]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP10 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[10]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP11 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[11]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP12 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[12]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP13 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[13]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP14 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[14]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP15 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[15]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP16 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[16]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP17 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[17]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP18 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[18]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP19 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[19]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP20 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[20]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP21 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[21]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP22 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[22]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP23 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[23]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S3EP24 <- NCISLAS3Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[24]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()


NCISLAS4Rating <- read_html("https://www.imdb.com/title/tt1378167/episodes?season=4")

### S4 ###
S4EP1 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[1]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP2 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[2]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP3 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[3]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP4 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[4]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP5 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[5]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP6 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[6]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP7 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[7]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP8 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[8]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP9 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[9]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP10 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[10]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP11 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[11]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP12 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[12]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP13 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[13]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP14 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[14]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP15 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[15]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP16 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[16]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP17 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[17]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP18 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[18]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP19 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[19]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP20 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[20]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP21 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[21]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP22 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[22]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP23 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[23]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S4EP24 <- NCISLAS4Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[24]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()


NCISLAS5Rating <- read_html("https://www.imdb.com/title/tt1378167/episodes?season=5")

### S5 ###
S5EP1 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[1]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP2 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[2]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP3 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[3]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP4 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[4]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP5 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[5]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP6 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[6]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP7 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[7]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP8 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[8]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP9 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[9]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP10 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[10]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP11 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[11]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP12 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[12]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP13 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[13]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP14 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[14]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP15 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[15]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP16 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[16]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP17 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[17]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP18 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[18]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP19 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[19]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP20 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[20]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP21 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[21]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP22 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[22]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP23 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[23]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

S5EP24 <- NCISLAS5Rating %>%
  html_nodes(xpath = '//*[@id="episodes_content"]/div[2]/div[2]/div[24]/div[2]/div[2]/div[1]/span[2]') %>%
  html_text()

Ratings <- as.data.frame(as.double(cbind(S1EP1, S1EP2, S1EP3, S1EP4, S1EP5, S1EP6, S1EP7, S1EP8, S1EP9, S1EP10, S1EP11, S1EP12, S1EP13, S1EP14, S1EP15, S1EP16,S1EP17,S1EP18,S1EP19,S1EP20,S1EP21,S1EP22,S1EP23,S1EP24,
                                                  S2EP1, S2EP2, S2EP3, S2EP4, S2EP5, S2EP6, S2EP7, S2EP8, S2EP9, S2EP10, S2EP11, S2EP12, S2EP13, S2EP14, S2EP15, S2EP16, S2EP17,S2EP18,S2EP19,S2EP20,S2EP21,S2EP22,S2EP23,S2EP24,
                                                  S3EP1, S3EP2, S3EP3, S3EP4, S3EP5, S3EP6, S3EP7, S3EP8, S3EP9, S3EP10, S3EP11, S3EP12, S3EP13, S3EP14, S3EP15, S3EP16,S3EP17,S3EP18,S3EP19,S3EP20,S3EP21,S3EP22,S3EP23,S3EP24,
                                                  S4EP1, S4EP2, S4EP3, S4EP4, S4EP5, S4EP6, S4EP7, S4EP8, S4EP9, S4EP10, S4EP11, S4EP12, S4EP13, S4EP14, S4EP15, S4EP16,S4EP17,S4EP18,S4EP19,S4EP20,S4EP21,S4EP22,S4EP23,S4EP24,
                                                  S5EP1, S5EP2, S5EP3, S5EP4, S5EP5, S5EP6, S5EP7, S5EP8, S5EP9, S5EP10, S5EP11, S5EP12, S5EP13, S5EP14, S5EP15, S5EP16,S5EP17,S5EP18,S5EP19,S5EP20,S5EP21,S5EP22,S5EP23,S5EP24
)))

colnames(Ratings)
names(Ratings)[1] <- "Ratings"

##### Combining Code ######
NCISLA <- cbind(NCISLA, Ratings)

##### Cleaning #####
NCISLA$viewers <- as.double(NCISLA$viewers)
NCISLA$Ratings <- as.double(NCISLA$Ratings)


##### Creating NCIS CSV Files #####
write.csv((NCISLA), "NCISLA_Dataset.csv")
